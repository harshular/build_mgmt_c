#include <stdio.h>


#define CSHIFTLEFT16(ushort, i) ((ushort) << (i)) | ((ushort)) >> (16-(i))


int main (void)

{


	unsigned short expCheckSum;
	unsigned short actCheckSum = 0;
	int i;
	int nBlocks = 123;

	unsigned char dFormatBlock[] = {0xA4, 0x94, 0xB1, 0x1C, 0x61, 0x5A, 0x46, 0x79, 0xCD, 0x2B, 0x5D, 0xD3, 0xAE, 0x95, 0x64, 0x2C, 0x2D, 0xFC, 0xDB, 0x96, 0x27, 0x85, 0x19, 0x1F, 0x7F, 0x23, 0xA0, 0x21, 0xF4, 0x8B, 0x00, 0x00, 0x18, 0xEB, 0x0F, 0xAF, 0x9D, 0x0F, 0x3C, 0x95, 0xE7, 0xB2, 0x76, 0x0D, 0x9A, 0x9A, 0x50, 0x0A, 0x51, 0x57, 0xE3, 0x56, 0x87, 0x55, 0xF7, 0xF8, 0xBB, 0x9E, 0xEE, 0x48, 0xBC, 0xE6, 0xF7, 0xE6, 0x74, 0x58, 0x2F, 0x13, 0x9D, 0x92, 0xB7, 0x36, 0xC7, 0xA0, 0x10, 0x7B, 0x14, 0x89, 0x58, 0x69, 0xD3, 0x62, 0x45, 0xCA, 0x76, 0x34, 0x87, 0xF3, 0x58, 0x66, 0x69, 0x48, 0x0F, 0xF8, 0x2B, 0x28, 0xAD, 0x82, 0x16, 0xC2, 0x40, 0x23, 0xBB, 0xDD, 0x98, 0xBD, 0x45, 0x77, 0x2E, 0x9A, 0xE1, 0x92, 0x84, 0xDD, 0xAC, 0xF3, 0xF3, 0x5C, 0xB9, 0x29, 0x00, 0x00, 0x00};



	for (i=0; i < nBlocks; i++)
	{
		printf("%ud, \n", actCheckSum);
	
		actCheckSum = CSHIFTLEFT16(actCheckSum, 1);
		printf("%ud, \n", actCheckSum);
	
		actCheckSum += dFormatBlock[i];
		printf("%ud, %d \n", actCheckSum, dFormatBlock[i]);


		printf("-------------------%d, \n", i);
	}

	printf("%d, \n", actCheckSum);


}
